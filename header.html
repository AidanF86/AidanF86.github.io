<!doctype html>
<html>
	
	<head>
		<link rel="stylesheet" href="style.css">
		<meta charset="utf-8"/>
	</head>
	
	<body onload="set_proper_dark()">

<script>
	function get_cookie(cname) {
	  let name = cname + "=";
	  let decodedCookie = decodeURIComponent(document.cookie);
	  let ca = decodedCookie.split(';');
	  for(let i = 0; i <ca.length; i++) {
		let c = ca[i];
		while (c.charAt(0) == ' ') {
		  c = c.substring(1);
		}
		if (c.indexOf(name) == 0) {
		  return c.substring(name.length, c.length);
		}
	  }
	  return "";
	}

	function is_dark() {
		is_dark = get_cookie("dark-mode");
		return is_dark == 'true';
	}

	function toggle_dark_mode() {
		var element = document.body;
		element.classList.toggle('dark-mode');
		if(element.classList.contains('dark-mode')) {
			document.cookie = "dark-mode=true";
			document.getElementById("toggle_dark_mode_button").textContent="ðŸŒ›"
		} else {
			document.cookie = "dark-mode=false"
			document.getElementById("toggle_dark_mode_button").textContent="ðŸŒž"
		}
	}

	function set_proper_dark() {
		if(is_dark())
		{
			var element = document.body;
			element.classList.add('dark-mode');
			document.getElementById("toggle_dark_mode_button").textContent="ðŸŒ›"
		}
	}
</script>
